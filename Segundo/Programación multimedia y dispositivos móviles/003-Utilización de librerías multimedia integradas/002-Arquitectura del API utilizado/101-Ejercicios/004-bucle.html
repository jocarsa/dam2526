<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Audio</title>
    <style>
      #contieneaudio{
        width:300px;
        height:150px;
        background:lightgrey;
        display:flex;
        flex-direction:column;
        border-radius:10px;
        padding:20px;
      }
      #contieneaudio img{
        border-radius:5px;
      }
      progress{
        width:100%;
      }
      #controladores{
        position:relative;
      }
      #controladores input, #controladores progress{
        position:absolute;
        top:0px;
        width:100%;
      }
      #controladores progress{
        z-index:1000;
      }
      #graficos{
        display:flex;
      }
      #graficos button{
        width:50px;
        height:50px;
        border-radius:50px;
      }
      #graficos img{
        width:100%;
      }
    </style>
  </head>
  <body>
    <div id="contieneaudio">
      <div id="graficos">
        <button>P</button>
        <img src="0802.png">
      </div>
      <audio src="0802.mp3"></audio>
      
      <div id="controladores">
        <input type="range" min=0 max=1 step=0.001>
        <progress value="0.5"></progress>
      </div>
      
    </div>
    <script>
      var audio = document.querySelector("audio")
      var boton = document.querySelector("button")
      var tiempo = document.querySelector("input")
      var progreso = document.querySelector("progress")
      
      boton.onclick = function(){
        audio.play()
      }
      tiempo.onchange = function(){
        let duracion = audio.duration
        console.log(duracion)
        audio.currentTime = this.value*duracion
      }
      
      let temporizador = setTimeout("bucle()",1000);
      
      function bucle(){
        let duracion = audio.duration
        progreso.value = audio.currentTime/duracion
        tiempo.value = audio.currentTime/duracion
        clearTimeout(temporizador)
        setTimeout("bucle()",100)
      }
      
      
    </script>
  </body>
</html>
